<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<title>Blabber</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-left" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="btn btn-primary navbar-toggle" data-toggle="collapse" data-target="#main-menu"><i class="glyphicon glyphicon-chevron-down"></i></a>
    </div>

    <div class="collapse navbar-collapse pull-left">
    <ul class="nav navbar-nav">
      <li>
        <a href="#connect" title="Toggle connection" class="connect disconnected">
          <i class="glyphicon glyphicon-off icon-white"></i> <span class="visible-xs-inline">Connection</span>
        </a>
      </li>
      <li>
        <a href="#" title="Shows red when voice input is active">
          <i class="fa fa-microphone toggle-voice voice-input-indicator"></i>
        </a>
      </li>
      <li>
        <a href="#sound-settings-modal" title="Show sound settings" role="button" data-toggle="modal">
          <i class="fa fa-volume-up icon-white"></i> <span class="visible-xs-inline">Settings</span>
        </a>
      </li>
      <li>
        <a href="#userlist-modal" title="Show user list" role="button" data-toggle="modal">
          <i class="glyphicon glyphicon-user icon-white"></i> <span class="visible-xs-inline">User List</span>
        </a>
      </li>
      <li>
        <a href="#help-modal" title="Show help" role="button" data-toggle="modal">
          <i class="fa fa-question-circle icon-white"></i> <span class="visible-xs-inline">Help</span>
        </a>
      </li>
    </ul>
    </div>
  </div>
</nav>

<div class="container-fluid fill">
  <div class="row" id="chat-block">
    <div class="col-md-12">
      <div id="conversation" class="well"></div>
    </div>
  </div>

  <div class="row">
    <div id="welcome" class="col-md-4 col-md-offset-4">
      <form>
        <div class="form-group">
          <label for="username">Your name</label>
          <input name="username" class="username form-control" type="text" placeholder="e.g. Dave Random">
        </div>
        <div class="form-group">
          <label for="room">Room to join</label>
          <input name="room" value="default" class="username form-control" type="text" placeholder="e.g. default" title="Letters, numbers and - only">
        </div>
        <button type="submit" class="start btn btn-lg btn-primary">Start chat</button>
      </form>
    </div>
  </div>
</div>

<div id="chat_input">
  <input class="form-control" type="text" id="msg_input" placeholder="Type here or start speaking. Press ENTER or say 'send' to send.">
</div>

<div class="modal fade" id="sound-settings-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Settings</h3>
      </div>
      <div id="sound-settings-modal-body" class="modal-body"></div>
      <div class="modal-footer">
        <a href="#" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Close</a>
      </div>
    </div>
  </div>
</div>

<script type="text/html" id="sound-settings-modal-template">
  <div class="row">
    <div class="col-sm-6">
      <div class="settings-block setting-voice-in <%= voice_in_class %>">
        <h4>Voice Recognition</h4>
        <span class="fa-stack fa-5x">
          <i class="fa fa-microphone fa-stack-1x setting-icon"></i>
          <% if (!voice_in_available) { %>
            <i class="fa fa-ban fa-stack-2x setting-cross text-danger"></i>
          <% } %>
        </span>
        <% if (voice_in_available) { %>
          <div class="voice-in-available">Available</div>
          <div class="voice-in-enabled"><% if (voice_in_enabled) { %>Enabled<% } else { %>Disabled<% } %></div>
        <% } else { %>
          <div class="voice-in-available">Unavailable</div>
        <% } %>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="settings-block setting-voice-out <%= voice_out_class %>">
        <h4>Text to Speech</h4>
        <span class="fa-stack fa-5x">
          <i class="fa fa-volume-up fa-stack-1x setting-icon"></i>
          <% if (!voice_out_available) { %>
            <i class="fa fa-ban fa-stack-2x setting-cross text-danger"></i>
          <% } %>
        </span>
        <% if (voice_out_available) { %>
          <div class="voice-out-available">Available</div>
          <div class="voice-out-enabled"><% if (voice_out_enabled) { %>Enabled<% } else { %>Disabled<% } %></div>
        <% } else { %>
          <div class="voice-out-available">Unavailable</div>
        <% } %>
      </div>
    </div>
  </div>
</script>

<div class="modal fade" id="userlist-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Users</h3>
      </div>
      <div class="modal-body">
        <ul id="users">
          <li>Disconnected!</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="help-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Help</h3>
      </div>
      <div class="modal-body">
        <h4>Speech Recognition and text-to-speech</h4>
        <p>
          Speech recognition and text-to-speech have limited browser support. Google Chrome is your best bet.
        </p>
        <h4>Privacy</h4>
        <p>
          Blabber itself does not record any data passed through it. However, your recorded speech may be sent to a third party server for interpretation. This depends on your browser's implementation, so bear that in mind if you are concerned about your privacy. 
        </p>
      </div>
      <div class="modal-footer">
        <p>
          Blabber is MIT licensed and is <a href="http://github.com/mrchimp/blabber" class="btn btn-primary btn-sm" target="blank">available on Github <i class="fa fa-github"></i></a>
        </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="socket.io/socket.io.js"></script>
<script type="text/javascript" src="js/script.min.js"></script>
</body>
</html>
